"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.recoTheme = void 0;
const utils_1 = require("@vuepress/utils");
const utils_2 = require("./client/utils");
const recoTheme = (themeConfig) => {
    const { style } = themeConfig;
    const stylePath = utils_1.path.resolve(process.cwd(), `node_modules/${style}`);
    const getStyleConfig = require(utils_1.path.resolve(`${stylePath}/lib/index.js`)).default;
    const styleConfig = getStyleConfig(themeConfig);
    styleConfig.plugins = [
        '@vuepress/plugin-git',
        '@vuepress/plugin-search',
        '@vuepress/plugin-palette',
        '@vuepress/plugin-prismjs',
        ['@vuepress/plugin-palette', {
                preset: 'css',
            }],
        ['@vuepress/active-header-links', {
                headerLinkSelector: 'a.page-header-item',
            }],
        ['@vuepress/plugin-container', { type: 'tip', render: utils_2.resolveContainer }],
        ['@vuepress/plugin-container', { type: 'info', render: utils_2.resolveContainer }],
        ['@vuepress/plugin-container', { type: 'warning', render: utils_2.resolveContainer }],
        ['@vuepress/plugin-container', { type: 'danger', render: utils_2.resolveContainer }],
        ...styleConfig.plugins,
    ];
    return {
        name: 'vuepress-theme-reco',
        layouts: utils_1.path.resolve(process.cwd(), `node_modules/${style}/lib/client/layouts`),
        ...styleConfig,
    };
};
exports.recoTheme = recoTheme;
exports.default = exports.recoTheme;
